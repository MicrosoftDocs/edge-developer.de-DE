---
description: Erfahren Sie mehr über bewährte Methoden für die Entwicklung ihrer WebView2-Anwendung.
title: Bewährte Methoden für die Entwicklung mit WebView2
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 05/11/2021
ms.topic: conceptual
ms.prod: microsoft-edge
ms.technology: webview
keywords: WebView2, Webview2, WebView, Webview, Edge, bewährte Methoden
ms.openlocfilehash: 7e8c6746e864b474c2987817c521224499a95e1f
ms.sourcegitcommit: 5ae09b1ad6cd576c9fec12538b23cd849861f2b2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/01/2021
ms.locfileid: "11627978"
---
# <a name="webview2-development-best-practices"></a><span data-ttu-id="4442e-104">Bewährte Methoden für die Entwicklung mit WebView2</span><span class="sxs-lookup"><span data-stu-id="4442e-104">WebView2 development best practices</span></span>  

<span data-ttu-id="4442e-105">Jedes Entwicklungsteam folgt beim Erstellen seiner Anwendung unterschiedlichen Methoden.</span><span class="sxs-lookup"><span data-stu-id="4442e-105">Every development team follows different practices when building their application.</span></span> <span data-ttu-id="4442e-106">Wenn Sie WebView2-Anwendungen erstellen, wird empfohlen, dass Sie diese Vorgehensweisen befolgen.</span><span class="sxs-lookup"><span data-stu-id="4442e-106">When you build WebView2 applications, there are practices we recommend you follow.</span></span> <span data-ttu-id="4442e-107">In diesem Artikel werden diese Empfehlungen und bewährten Methoden für Sie beim Erstellen produktionsbasierter WebView2-Anwendungen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="4442e-107">This article outlines those recommendations and best practices for you when building production-based WebView2 applications.</span></span>

## <a name="use-evergreen-webview2-runtime-recommended"></a><span data-ttu-id="4442e-108">Verwenden von Evergreen WebView2 Runtime (empfohlen)</span><span class="sxs-lookup"><span data-stu-id="4442e-108">Use Evergreen WebView2 Runtime (recommended)</span></span>  

<span data-ttu-id="4442e-109">Feste Version bietet zwar Anwendungsfälle für Apps mit strengen Kompatibilitätsanforderungen, es wird jedoch generell empfohlen, die Evergreen WebView2 Runtime zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="4442e-109">While Fixed Version has its use cases for apps that have strict compatibility requirements, we generally recommend using the Evergreen WebView2 Runtime.</span></span>  <span data-ttu-id="4442e-110">Die Evergreen WebView2 Runtime-Updates werden automatisch aktualisiert und enthalten die neuesten Features und Sicherheitspatches, die für Ihre WebView2-Anwendung verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="4442e-110">The Evergreen WebView2 Runtime updates automatically and includes the latest features and security patches available to your WebView2 application.</span></span> <span data-ttu-id="4442e-111">Die Evergreen WebView2 Runtime benötigt auch weniger Speicherplatz auf dem Datenträger.</span><span class="sxs-lookup"><span data-stu-id="4442e-111">The Evergreen WebView2 Runtime also requires less storage space on the disk.</span></span>

<span data-ttu-id="4442e-112">Stellen Sie sicher, dass die Evergreen WebView2-Runtime installiert ist, bevor Sie Ihre WebView2-Anwendung verwenden.</span><span class="sxs-lookup"><span data-stu-id="4442e-112">Ensure the Evergreen WebView2 Runtime is installed before using your WebView2 application.</span></span>  <span data-ttu-id="4442e-113">Navigieren Sie für weitere Informationen zur [Bereitstellung der Evergreen WebView2 Runtime.][Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime]</span><span class="sxs-lookup"><span data-stu-id="4442e-113">For more information, navigate to [Deploying the Evergreen WebView2 Runtime][Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime].</span></span>  

## <a name="run-compatibility-tests-regularly-when-using-the-evergreen-webview2-runtime"></a><span data-ttu-id="4442e-114">Führen Sie bei Verwendung der Evergreen WebView2 Runtime regelmäßig Kompatibilitätstests aus.</span><span class="sxs-lookup"><span data-stu-id="4442e-114">Run compatibility tests regularly when using the Evergreen WebView2 Runtime</span></span>

<span data-ttu-id="4442e-115">Bei Verwendung der Evergreen WebView2 Runtime wird die Laufzeit automatisch aktualisiert, sodass Sie regelmäßig Kompatibilitätstests ausführen müssen.</span><span class="sxs-lookup"><span data-stu-id="4442e-115">When using the Evergreen WebView2 Runtime, the runtime updates automatically, so you must regularly run compatibility tests.</span></span> <span data-ttu-id="4442e-116">Testen Sie den Webinhalt im WebView2-Steuerelement mit den nicht stabilen Versionen von Microsoft Edge, um sicherzustellen, dass Ihre WebView2-Anwendung wie erwartet funktioniert.</span><span class="sxs-lookup"><span data-stu-id="4442e-116">Test the web content in the WebView2 control against the non-stable versions of Microsoft Edge, to ensure that your WebView2 application works as expected.</span></span>

<span data-ttu-id="4442e-117">Dieser Leitfaden ähnelt dem Leitfaden, den wir Webentwicklern bieten.</span><span class="sxs-lookup"><span data-stu-id="4442e-117">This guidance is similar to the guidance that we give to web developers.</span></span> <span data-ttu-id="4442e-118">Navigieren Sie im [Evergreen-Modus][Webview2ConceptsDistributionStayCompatibleEvergreenMode]zu "Kompatibel bleiben", um weitere Informationen zu erfahren.</span><span class="sxs-lookup"><span data-stu-id="4442e-118">For more information, navigate to [Stay compatible in Evergreen mode][Webview2ConceptsDistributionStayCompatibleEvergreenMode].</span></span>

## <a name="ensure-apis-are-supported-by-the-installed-webview2-runtime"></a><span data-ttu-id="4442e-119">Stellen Sie sicher, dass APIs von der installierten WebView2 Runtime unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="4442e-119">Ensure APIs are supported by the installed WebView2 Runtime</span></span>

<span data-ttu-id="4442e-120">WebView2-Anwendungen benötigen zum Ausführen sowohl ein Webview2 SDK als auch eine auf dem Computer installierte WebView2-Runtime.</span><span class="sxs-lookup"><span data-stu-id="4442e-120">WebView2 applications need both a Webview2 SDK, and a WebView2 Runtime installed on the computer to run.</span></span> <span data-ttu-id="4442e-121">Sowohl das SDK als auch die Laufzeit sind versioniert.</span><span class="sxs-lookup"><span data-stu-id="4442e-121">Both the SDK and the runtime are versioned.</span></span> <span data-ttu-id="4442e-122">Da APIs ständig zu WebView2 hinzugefügt werden, werden auch neue Versionen der Laufzeit veröffentlicht, um die neuen APIs zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="4442e-122">Since APIs are continually being added to WebView2, new versions of the runtime are also released to support the new APIs.</span></span> <span data-ttu-id="4442e-123">Stellen Sie sicher, dass die von Ihrer WebView2-Anwendung verwendeten APIs von der WebView2-Runtime unterstützt werden, die auf dem Computer installiert ist.</span><span class="sxs-lookup"><span data-stu-id="4442e-123">Make sure the APIs that are used by your WebView2 application are supported by the WebView2 Runtime that's installed on the computer.</span></span> 

<span data-ttu-id="4442e-124">Wenn Sie die Evergreen WebView2 Runtime verwenden, gibt es einige Szenarien, in denen die Laufzeit möglicherweise nicht aktualisiert wird, um die neueste Version zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="4442e-124">If you use the Evergreen WebView2 Runtime, there are some scenarios where the runtime may not be updated to use the latest version.</span></span> <span data-ttu-id="4442e-125">Wenn Benutzer beispielsweise keinen Internetzugang haben, wird die Laufzeit in dieser Umgebung nicht automatisch aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="4442e-125">For example, when users don't have internet access, the runtime isn't automatically updated in that environment.</span></span> <span data-ttu-id="4442e-126">Darüber hinaus unterbrechen einige Gruppenrichtlinien WebView2-Updates.</span><span class="sxs-lookup"><span data-stu-id="4442e-126">Additionally, using some group policies pause WebView2 updates.</span></span> <span data-ttu-id="4442e-127">Wenn Sie ein Update auf Ihre WebView2-Anwendung übertragen, kann die Anwendung beschädigt werden, da sie neuere APIs verwendet, die in der installierten Laufzeit nicht verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="4442e-127">When you push an update to your WebView2 application, the application may break because it uses newer APIs that aren't available in the installed runtime.</span></span>   
 
<span data-ttu-id="4442e-128">Um diese Situation zu lösen, können Sie die Verfügbarkeit der APIs in der installierten Laufzeit testen, bevor Ihr Code die API aufruft.</span><span class="sxs-lookup"><span data-stu-id="4442e-128">To solve this situation, you can test for the availability of the APIs in the installed runtime, before your code calls the API.</span></span> <span data-ttu-id="4442e-129">Dieser Test für neuere Funktionen ähnelt anderen bewährten Methoden für die Webentwicklung, die unterstützte Features vor der Verwendung neuer Web-APIs erkennen.</span><span class="sxs-lookup"><span data-stu-id="4442e-129">This test for newer functionality is similar to other web development best practices that detect supported features before using new web APIs.</span></span> <span data-ttu-id="4442e-130">Um die API-Verfügbarkeit in der installierten Laufzeit zu testen, verwenden Sie Folgendes:</span><span class="sxs-lookup"><span data-stu-id="4442e-130">To test for API availability in the installed runtime, use:</span></span>  

*   <span data-ttu-id="4442e-131">Die `queryinterface` in C/C++.</span><span class="sxs-lookup"><span data-stu-id="4442e-131">The `queryinterface` in C/C++.</span></span> 
*   <span data-ttu-id="4442e-132">Ein try/catch-Block in .NET oder WinUI.</span><span class="sxs-lookup"><span data-stu-id="4442e-132">A try/catch block in .NET or WinUI.</span></span> 
    
<span data-ttu-id="4442e-133">Weitere Informationen finden Sie unter Ermitteln der [WebView2-Laufzeitanforderung.][Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement]</span><span class="sxs-lookup"><span data-stu-id="4442e-133">For more information, navigate to [Determine WebView2 Runtime requirement][Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement].</span></span>  

## <a name="update-the-fixed-version-runtime"></a><span data-ttu-id="4442e-134">Aktualisieren der Laufzeit mit fester Version</span><span class="sxs-lookup"><span data-stu-id="4442e-134">Update the Fixed Version Runtime</span></span>  

<span data-ttu-id="4442e-135">Wenn Sie die Fixed Version Runtime verwenden, stellen Sie sicher, dass Sie Ihre Laufzeit regelmäßig aktualisieren, um potenzielle Sicherheitsrisiken zu verringern.</span><span class="sxs-lookup"><span data-stu-id="4442e-135">If you use the Fixed Version Runtime, ensure you update your runtime regularly to reduce any potential security risk.</span></span> <span data-ttu-id="4442e-136">Wenn Sie Inhalte von Drittanbietern in Webview2-Anwendungen verwenden, sollten Sie den Inhalt immer als nicht vertrauenswürdig betrachten.</span><span class="sxs-lookup"><span data-stu-id="4442e-136">When using 3rd-party content in Webview2 applications, always consider the content untrusted.</span></span>  <span data-ttu-id="4442e-137">Navigieren Sie zum [Verteilungsmodus für feste Versionen,][Webview2ConceptsDistributionFixedVersionDistributionMode]um weitere Informationen zu erfahren.</span><span class="sxs-lookup"><span data-stu-id="4442e-137">For more information, navigate to [Fixed Version distribution mode][Webview2ConceptsDistributionFixedVersionDistributionMode].</span></span>  

## <a name="manage-new-versions-of-the-runtime"></a><span data-ttu-id="4442e-138">Verwalten neuer Versionen der Laufzeit</span><span class="sxs-lookup"><span data-stu-id="4442e-138">Manage new versions of the runtime</span></span>  

<span data-ttu-id="4442e-139">Wenn eine neue Version der Evergreen WebView2 Runtime auf das Gerät heruntergeladen wird, verwenden alle ausgeführten WebView2-Anwendungen weiterhin die vorherige Laufzeit, bis der Browserprozess freigegeben wird.</span><span class="sxs-lookup"><span data-stu-id="4442e-139">When a new version of the Evergreen WebView2 Runtime is downloaded to the device, any WebView2 applications that are running continue to use the previous runtime, until the browser process is released.</span></span>  <span data-ttu-id="4442e-140">Dieses Verhalten ermöglicht die fortlaufende Ausführung von Anwendungen und verhindert, dass die vorherige Laufzeit gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="4442e-140">This behavior allows applications to run continuously, and prevents the previous runtime from being deleted.</span></span>  <span data-ttu-id="4442e-141">Um die neue Version der Laufzeit zu verwenden, müssen Sie alle Verweise auf die vorherigen WebView2-Umgebungsobjekte freigeben oder die Anwendung neu starten.</span><span class="sxs-lookup"><span data-stu-id="4442e-141">To use the new version of the runtime, you'll need to release all references to the previous WebView2 environment objects or restart your application.</span></span>  <span data-ttu-id="4442e-142">Wenn Sie das nächste Mal eine neue WebView2-Umgebung erstellen, wird die neue Version verwendet.</span><span class="sxs-lookup"><span data-stu-id="4442e-142">The next time you create a new WebView2 environment, it will use the new version.</span></span>

<span data-ttu-id="4442e-143">Wenn eine neue Version verfügbar ist, können Sie automatisch Maßnahmen ergreifen, z. B. den Benutzer benachrichtigen, die Anwendung neu zu starten.</span><span class="sxs-lookup"><span data-stu-id="4442e-143">When a new version is available, you can automatically take action, such as notifying the user to restart the application.</span></span>  <span data-ttu-id="4442e-144">Um zu erkennen, dass eine neue Version verfügbar ist, können Sie das [ereignis add_NewBrowserVersionAvailable(Win32)][Webview2ReferenceaddNewBrowserVersionAvailable] oder [CoreWebView2Environment.NewBrowserVersionAvailable(.NET)][Webview2ReferenceNewBrowserVersionAvailable] in Ihrem Code verwenden.</span><span class="sxs-lookup"><span data-stu-id="4442e-144">To detect that a new version is available, you can use the [add_NewBrowserVersionAvailable(Win32)][Webview2ReferenceaddNewBrowserVersionAvailable] or [CoreWebView2Environment.NewBrowserVersionAvailable(.NET)][Webview2ReferenceNewBrowserVersionAvailable] event in your code.</span></span> <span data-ttu-id="4442e-145">Wenn der Code den Neustart der Anwendung verarbeitet, sollten Sie den Benutzerstatus speichern, bevor die WebView2-Anwendung beendet wird.</span><span class="sxs-lookup"><span data-stu-id="4442e-145">If your code handles restarting the application, consider saving the user state before the WebView2 application exits.</span></span>  

## <a name="manage-the-lifetime-of-the-user-data-folder"></a><span data-ttu-id="4442e-146">Verwalten der Lebensdauer des Benutzerdatenordners</span><span class="sxs-lookup"><span data-stu-id="4442e-146">Manage the lifetime of the user data folder</span></span> 
<span data-ttu-id="4442e-147">WebView2-Apps erstellen einen Benutzerdatenordner zum Speichern von Daten wie Cookies, Anmeldeinformationen und Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="4442e-147">WebView2 apps create a user data folder to store data such as cookies, credentials, and permissions.</span></span>  <span data-ttu-id="4442e-148">Nach dem Erstellen des Ordners ist Ihre App für die Verwaltung der Lebensdauer des Benutzerdatenordners verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="4442e-148">After creating the folder, your app is responsible for managing the lifetime of the user data folder.</span></span>  <span data-ttu-id="4442e-149">Ihre App muss beispielsweise eine Bereinigung durchführen, wenn die App deinstalliert wird.</span><span class="sxs-lookup"><span data-stu-id="4442e-149">For example, your app must do cleanup when the app is uninstalled.</span></span>  <span data-ttu-id="4442e-150">Navigieren Sie zu ["Verwalten des Benutzerdatenordners",][Webview2ConceptsUserDataFolder]um weitere Informationen zu erfahren.</span><span class="sxs-lookup"><span data-stu-id="4442e-150">For more information, navigate to [Managing the user data folder][Webview2ConceptsUserDataFolder].</span></span>  

## <a name="handle-runtime-process-failures"></a><span data-ttu-id="4442e-151">Behandeln von Laufzeitprozessfehlern</span><span class="sxs-lookup"><span data-stu-id="4442e-151">Handle runtime-process failures</span></span>
<span data-ttu-id="4442e-152">Ihre WebView2-App sollte das Ereignis überwachen und `ProcessFailed` behandeln, damit die App nach Fehlern von Laufzeitprozessen, die den WebView2-App-Prozess unterstützen, wiederhergestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="4442e-152">Your WebView2 app should listen for and handle the `ProcessFailed` event, so the app can recover from failures of runtime processes that support the WebView2 app process.</span></span>

<span data-ttu-id="4442e-153">WebView2-Apps werden von einer Sammlung von Laufzeitprozessen unterstützt, die zusammen mit dem App-Prozess ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="4442e-153">WebView2 apps are supported by a collection of runtime processes that run alongside the app process.</span></span> <span data-ttu-id="4442e-154">Diese unterstützenden Laufzeitprozesse können aus verschiedenen Gründen fehlschlagen, z. B. wenn der Arbeitsspeicher knapp wird oder vom Benutzer beendet wird.</span><span class="sxs-lookup"><span data-stu-id="4442e-154">These supporting runtime processes can fail for various reasons, such as running out of memory, or being terminated by the user.</span></span> <span data-ttu-id="4442e-155">Wenn ein unterstützender Laufzeitprozess fehlschlägt, benachrichtigt WebView2 die Anwendung durch Auslösen des [ProcessFailed-Ereignisses.][WebView2ProcessFailedEvent]</span><span class="sxs-lookup"><span data-stu-id="4442e-155">When a supporting runtime process fails, WebView2 notifies the application by raising the [ProcessFailed event][WebView2ProcessFailedEvent].</span></span>

## <a name="follow-recommended-webview2-security-best-practices"></a><span data-ttu-id="4442e-156">Befolgen empfohlener bewährter Methoden für die WebView2-Sicherheit</span><span class="sxs-lookup"><span data-stu-id="4442e-156">Follow recommended WebView2 security best practices</span></span> 
<span data-ttu-id="4442e-157">Stellen Sie für jede WebView2-Anwendung sicher, dass Sie die empfohlenen bewährten Methoden für die WebView2-Sicherheit befolgen.</span><span class="sxs-lookup"><span data-stu-id="4442e-157">For any WebView2 application, ensure you follow our recommended WebView2 security best practices.</span></span>  <span data-ttu-id="4442e-158">Navigieren Sie für weitere Informationen zu bewährten Methoden für die [Entwicklung sicherer WebView2-Anwendungen.][Webview2ConceptsSecurity]</span><span class="sxs-lookup"><span data-stu-id="4442e-158">For more information, navigate to [Best practices for developing secure WebView2 applications][Webview2ConceptsSecurity].</span></span>  

<!-- links -->  

[Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime]: ../concepts/distribution.md#deploying-the-evergreen-webview2-runtime "Bereitstellen der Evergreen WebView2-Laufzeit – Verteilung von Apps mit WebView2 | Microsoft-Dokumente"  
[Webview2ConceptsDistributionFixedVersionDistributionMode]: ../concepts/distribution.md#fixed-version-distribution-mode "Verteilungsmodus für feste Versionen – Verteilung von Apps mithilfe von WebView2 | Microsoft-Dokumente"  
[Webview2ConceptsDistributionStayCompatibleEvergreenMode]: ../concepts/distribution.md#stay-compatible-in-evergreen-mode "Im Evergreen-Modus kompatibel bleiben – Verteilung von Apps mit WebView2 | Microsoft-Dokumente"  
[Webview2ConceptsSecurity]: ../concepts/security.md "Bewährte Methoden für die Entwicklung sicherer WebView2-Anwendungen | Microsoft-Dokumente"  
[Webview2ConceptsUserDataFolder]: ../concepts/user-data-folder.md "Verwalten des Benutzerdatenordners | Microsoft-Dokumente"  
[Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement]: ../concepts/versioning.md#determine-webview2-runtime-requirement "Ermitteln der WebView2-Laufzeitanforderung – Grundlegendes zu WebView2 SDK-Versionen | Microsoft-Dokumente"  
[Webview2GetStartedWin32]: ../get-started/win32.md "Erste Schritte mit WebView2 | Microsoft-Dokumente"  
[Webview2GetStartedWinforms]: ../get-started/winforms.md "Erste Schritte mit WebView2 in Windows Forms | Microsoft-Dokumente"  
[Webview2GetStartedWinui]: ../get-started/winui.md "Erste Schritte mit WebView2 in WinUI 3 (Vorschau) | Microsoft-Dokumente"  
[Webview2GetStartedWpf]: ../get-started/wpf.md "Erste Schritte mit WebView2 in WPF | Microsoft-Dokumente"  

[Webview2ReferenceaddNewBrowserVersionAvailable]: /microsoft-edge/webview2/reference/win32/icorewebview2environment#add_newbrowserversionavailable "add_NewBrowserVersionAvailable | Microsoft-Dokumente"  

[Webview2ReferenceNewBrowserVersionAvailable]: /dotnet/api/microsoft.web.webview2.core.corewebview2environment.newbrowserversionavailable "CoreWebView2Environment.NewBrowserVersionAvailable-Ereignis | Microsoft-Dokumente"  
[WebView2ProcessFailedEvent]: /microsoft-edge/webview2/reference/win32/icorewebview2processfailedeventargs "ICoreWebView2ProcessFailedEventArgs | Microsoft-Dokumente"  

